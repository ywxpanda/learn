# zookeeper基本数据模型

## 树形结构

    linux的目录结构
    每个节点成为znode,可以有子节点，也可以有数据
    节点分为临时节点和永久节点，临时节点在客户端断开后消失
    每个znode都有自己的版本号，可以通过命令显示节点的信息
    znode数据发生了变化，那么该节点的版本号会累加（乐观锁）
    删除修改过时的节点，版本号不匹配则会报错
    每个znode不适合存储的数据不宜过大，n k
    节点可以设置权限，可以通过权限限制用户的访问

## zookeeper作用

    master节点选举：当主节点挂了，从节点可以接收工作，保证集群的高可用
    同意文件管理：只需要配置部署一台服务器，就可以把相同的配置文件更新到其他的所有服务器中
    发布与订阅：消息队列，dubbo发布者讲消息发布到znode中，订阅这读取消息
    提供分布式锁：解决不同进程之间争夺资源
    集群管理：集群中保证数据的强一致性
        数据同步